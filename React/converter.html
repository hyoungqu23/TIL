<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unit Converter</title>
</head>
<body>
  <div id="root"></div>
</body>
<!-- 1. CDN 링크(참고: https://ko.reactjs.org/docs/cdn-links.html) -->
<script src="https://unpkg.com/react@17.0.2/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.development.js" crossorigin></script>
<!-- Babel -->
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
  function MinutesToHours() {
    {/* state 작성하고 설정하기 */}
    const [amount, setAmount] = React.useState(0);
    const [inverted, setInverted] = React.useState(false);
    
    {/* state를 바탕으로 UI를 변경하는 것이 더 유용하다. */}
    const onChange = (event) => {
      setAmount(event.target.value);        // input에 입력된 값을 State에 전달하는 함수
    };
    const reset = () => {
      setAmount(0);
    }
    const invert = () => {
      // 새로운 값을 만들어 State를 작동시키는 것이 더 안전하다.
      // setInverted(!inverted);       // inverted ? inverted = false : inverted = true;와 동일한 효과
      setInverted((current) => !current);
      reset();        // invert 되는 경우, amount에 입력된 값이 옮겨지기 때문에 0으로 초기화하는 과정이 필요함.
    }

    return (
      <div>        
        {/* JSX와 HTML의 차이가 존재함(for -> htmlFor, class -> className 등 *JS에서 이미 지정된 단어이기 때문에 중복 사용 불가능) */} 
        <div>
          <label htmlFor="minutes">Minutes</label>
          <input value={inverted ? amount * 60 : amount} id="minutes" placeholder="Minutes" type="number" onChange={onChange} disabled={inverted === true} />
        </div>
          
        {/* JSX를 활용하기 때문에 JS의 조건문 사용 가능(`inverted === true`의 참/거짓 값에 따라 `disabled` 속성 활용 -> 간단히 `!inverted`로 활용 가능) */} 
        <div>
          <label htmlFor="hours">Hours</label>
          <input value={inverted ? amount : Math.round(amount / 60)} id="hours" placeholder="Hours" type="number" onChange={onChange} disabled={!inverted} />
        </div>

        <button onClick={reset}>Reset</button>
        <button onClick={invert}>{inverted ? "Turn back" : "Invert"}</button> {/* 태그 내에서도 변수 활용 가능 */}
      </div>
    );
  }
  
  function KiloToMiles() {
    return (

    )
  }

  function App() {
    const [index, setIndex] = React.useState("xx");
    const onSelect = (event) => {
      setIndex(event.target.value);
    };
    return (
      <div>
        <h1>Unit Converter</h1>
        
        {/* 선택 목록 처리하기 - `select` 태그와 `option` 태그 */}
        <select value={index} onChange={onSelect} name="" id="">    {/* `event.target.value`를 통해 해당 `option`의 `value` 값을 가져올 수 있다.*/}
          <option value="xx">Please select your units</option>
          <option value="0">Minutes & Hours</option>
          <option value="1">Kilometer & Miles</option>
        </select>

        <hr />
        
        {/* JSX에서 `{}`를 활용해 JavaScript 코드를 작성할 수 있다. */}
        {index === "xx" ? "Please select your units" : null}
        {index === "0" ? <MinutesToHours /> : null}
        {index === "1" ? <KiloToMiles /> : null}
      </div>
    );
  }

  const $root = document.getElementById("root");
  ReactDOM.render(<App />, $root);
</script>

</html>